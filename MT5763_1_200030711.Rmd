---
title: "MT5763_1_200030711"
author: "Alexander Curtis"
date: "03/10/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Load libraries:
```{r, message = FALSE}
library(tidyverse)
library(lubridate)
```

## Data wrangling

Data wrangling for the Seoul dataset:
```{r}
BikeSeoul <- read.csv("BikeSeoul.csv") %>% 
  # Remove unwanted columns
  select(-Visibility..10m.,
         -Dew.point.temperature.C.,
         -Solar.Radiation..MJ.m2., -Rainfall.mm.,
         -Snowfall..cm.) %>%
  # Keep only functioning days then remove column
  filter(Functioning.Day == "Yes") %>%
  select(-Functioning.Day) %>%
  rename(Count = Rented.Bike.Count, 
         Temperature = Temperature.C.,
         Humidity = Humidity...,
         WindSpeed = Wind.speed..m.s.,
         Season = Seasons) %>%
  mutate(Date = as.Date(Date, "%d/%m/%Y")) %>%
  mutate(FullDate = make_datetime(year = year(Date),
                                  month = month(Date),
                                  day = day(Date),
                                  hour = Hour)) %>%
  mutate(Holiday = factor(Holiday, 
                          levels = c("Holiday", "No Holiday"),
                          labels = c("Yes", "No"),
                          ordered = TRUE)) %>%
  mutate(Season = factor(Season, 
                         levels = c("Spring", "Summer", "Autumn", "Winter"),
                         ordered = TRUE))
```


Data wrangling for the Washington DC dataset:
```{r}
BikeWashingtonDC <- read.csv("BikeWashingtonDC.csv") %>%
  # Remove unwanted columns
  select(-instant,
         -yr,
         -mnth,
         -weekday,
         -workingday,
         -weathersit,
         -atemp,
         -casual,
         -registered) %>%
  rename(Date = dteday,
         Season = season,
         Hour = hr,
         Holiday = holiday,
         Temperature = temp,
         Humidity = hum,
         Windspeed = windspeed,
         Count = cnt) %>%
  # Transform humidity into a percentage
  mutate(Humidity = Humidity * 100) %>%
  # Transform Temperature into degrees Celcius
  mutate(Temperature = 47 * Temperature - 8) %>%
  # Transform Windspeed into m/s
  mutate(Windspeed = Windspeed * 67) %>%
  mutate(Season = factor(Season,
                         levels = c(2, 3, 4, 1),
                         labels = c("Spring", "Summer", "Autumn", "Winter"),
                         ordered = TRUE)) %>%
  mutate(Holiday = factor(Holiday,
                          levels = c(1, 0),
                          labels = c("Yes", "No"),
                          ordered = TRUE)) %>%
  mutate(Date = as.Date(Date, "%Y-%m-%d")) %>%
  mutate(FullDate = make_datetime(year = year(Date),
                                  month = month(Date),
                                  day = day(Date),
                                  hour = Hour))
```







